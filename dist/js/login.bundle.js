/*! For license information please see login.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/data.js":(e,t,s)=>{function r(e,t,s){this.typeId=e,this.typeName=t,this.color=s}function n(e,t,s,r,n){this.id=e,this.type=t,this.name=s,this.price=r,this.stockQty=n}function o(e,t,s,r,n,o){this.userId=e,this.orderId=t,this.orderTime=s,this.totalPrice=r,this.totalQty=n,this.status=o}function i(e,t,s,r,n,o){this.orderId=e,this.bookId=t,this.price=s,this.qty=r,this.total=n,this.status=o}function a(e,t){this.id=e,this.name=t}function l(e,t){this.roleId=e,this.roleName=t}function u(e,t,s,r,n){this.id=e,this.username=t,this.password=s,this.email=r,this.role=n}s.r(t),s.d(t,{Book:()=>n,BookType:()=>r,BookTypes:()=>h,Order:()=>o,OrderItem:()=>i,OrderStatus:()=>d,Role:()=>l,Roles:()=>c,Status:()=>a,User:()=>u,books:()=>m,orderItems:()=>p,orders:()=>I,users:()=>w}),n.newInstance=function(e,t,s,o,i,a,l){let u=new r(Number(t),String(s),String(o));return new n(Number(e),u,String(i),Number(a),Number(l))},n.prototype.getImageUrl=function(){return`https://picsum.photos/240/224?random=${this.id}`};const d={WAITING:new a(1,"待出貨"),ONGOING:new a(2,"已出貨"),ARRIVED:new a(3,"已到門市")},c={ADMIN:new l(1,"ADMIN"),USER:new l(2,"USER")},w=[new u(1,"admin","admin","admin@example.com",c.ADMIN),new u(2,"user","user","user@example.com",c.USER)],h={IT:new r(1,"IT","green"),Lang:new r(2,"Lang","purple"),Social:new r(2,"Social","blue")},m=[new n(1,h.IT,"Java",400,20),new n(2,h.IT,"Javascript",400,10),new n(3,h.IT,"Spring",700,25),new n(4,h.IT,"Python",350,2),new n(5,h.IT,"SQL",400,3),new n(6,h.Lang,"華語文",600,20),new n(7,h.Lang,"英語",800,6),new n(8,h.Lang,"法語",800,4),new n(9,h.Lang,"多益檢定",1700,20),new n(10,h.Lang,"全民英檢",1500,50),new n(11,h.Social,"社會學",300,3)],I=[new o(1,"20231024012313","2023/10/24 23:48:52",750,2,d.ONGOING),new o(1,"20231024012314","2023/10/25 11:05:10",4e3,2,d.ARRIVED),new o(2,"20231024012312","2024/12/15 20:00:05",800,1,d.WAITING)],p=[new i("20231024012313",1,400,1,400,d.ONGOING),new i("20231024012313",4,350,1,350,d.ONGOING),new i("20231024012312",7,800,1,800,d.WAITING),new i("20231024012314",9,1700,1,1700,d.ARRIVED),new i("20231024012314",10,1500,1,1500,d.ARRIVED),new i("20231024012314",7,800,1,800,d.ARRIVED)]},"./src/js/user.js":(e,t,s)=>{s.r(t),s.d(t,{findUserByUsername:()=>o,getSessionUser:()=>i,isAdmin:()=>a,isValidUser:()=>n,logout:()=>l});var r=s("./src/js/data.js");function n(e,t){let s=o(e);return null!=s&&s.password==t?(window.sessionStorage.setItem("user",JSON.stringify(s)),!0):(window.sessionStorage.removeItem("user"),!1)}function o(e){const t=[...r.users].filter((t=>t.username==e));return 1==t.length?t[0]:null}function i(){const e=window.sessionStorage.getItem("user"),t=null==e?null:JSON.parse(e);return new r.User(t.id,t.username,t.password,t.email,new r.Role(t.role.roleId,t.role.roleName))}function a(){return 1==i().role.roleId}function l(){window.sessionStorage.clear()}globalThis.sessionUser=i,globalThis.isAdmin=a},"./src/styles.css":(e,t,s)=>{s.r(t)}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{s.r(r),s("./src/styles.css");var e=s("./src/js/user.js");$("form").submit((function(t){t.preventDefault();let s=$(this).serializeArray()[0].value,r=$(this).serializeArray()[1].value;console.log(s,r),(0,e.isValidUser)(s,r)?window.location=$(this).attr("action"):alert("帳號或密碼輸入錯誤")}))})()})();
//# sourceMappingURL=login.bundle.js.map